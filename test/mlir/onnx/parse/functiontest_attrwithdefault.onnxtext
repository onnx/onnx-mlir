// RUN: onnx-mlir --EmitONNXBasic --printIR %s | FileCheck %s

// functiontest_attrwithdefault.onnxtext is from onnxruntime/test/framework/function_test.cc
<
ir_version: 8,
opset_import: [ "" : 16, "local" : 1 ]
>
agraph (float[N] x) => (float[N] y)
{
    y0 = local.myfun <a = 2.0> (x)
    y1 = local.myfun (x)
    y = Add (y0, y1)
}

<
opset_import: [ "" : 16 ],
domain: "local"
>
myfun <a: float=1.0> (x) => (y) {
    x2 = Constant <value_float: float=@a>()
    x3 = CastLike (x2, x)
    y = Add (x, x3)
}
